generator client {
  provider = "prisma-client"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id String @id @default(uuid())

  email String @unique

  github            Boolean @default(false)
  githubId          String?
  githubUsername    String?
  githubAccessToken String?

  google            Boolean @default(false)
  googleId          String?
  googleName        String?
  googleAccessToken String?

  notion            Boolean @default(false)
  notionId          String?
  notionName        String?
  notionAccessToken String?

  gmail Boolean @default(false)

  sessions Session[]

  createdAt DateTime @default(now())
}

model Session {
  id String @id

  secretHash Bytes

  userId String

  user User @relation(fields: [userId], references: [id])

  createdAt      DateTime @default(now())
  lastVerifiedAt DateTime @default(now())
}
